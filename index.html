<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- displays site properly based on user's device -->

    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./images/favicon-32x32.png"
    />
    <link rel="stylesheet" href="style.css" />
    <!-- Google Fonts CDN (Libre Franklin) -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Libre+Franklin:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />

    <title>Frontend Mentor | Ping coming soon page</title>
  </head>
  <body>
    <header>
      <img src="./images/logo.svg" alt="Ping Logo" />
    </header>
    <section class="hero-section">
      <h1>We are launching <strong class="bold">soon!</strong></h1>
      <p class="tagline">Subscribe and get notified</p>
    </section>
    <div class="email-subscription">
      <input
        id="email-input"
        type="email"
        placeholder="Your email address..."
      />
      <p id="invalid-error"><i> Please provide a valid email address </i></p>
      <p id="empty-error">
        <i>Whoops! It looks like you forgot to add your email</i>
      </p>
      <input id="submit-button" type="submit" value="Notify Me " />
    </div>
    <main>
      <img
        src="./images/illustration-dashboard.png"
        alt="illustration-dashboard"
      />
    </main>
    <footer>
      <div class="social-links-group">
        <i class="fa-brands fa-facebook-f icon"></i>
        <i class="fa-brands fa-twitter icon"></i>
        <i class="fa-brands fa-instagram icon"></i>
      </div>
      <p>&copy; Copyright Ping. All rights reserved.</p>
    </footer>
    <!-- FontAwesome Icon CDN  -->
    <script
      src="https://kit.fontawesome.com/8bd64be22c.js"
      crossorigin="anonymous"
    ></script>
    <!-- Email input field validation -->
    <script>
      // Elements
      const emailInputField = document.getElementById("email-input");
      const submitButton = document.getElementById("submit-button");
      // Error messages
      const invalidEmailErrorMessage = document.getElementById("invalid-error");
      const emptyEmailErrorMessage = document.getElementById("empty-error");
      // Email validating Regular Expression
      const emailValidationRegex =
        /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;

      // Adding CLICK event-handler on submit button
      submitButton.addEventListener("click", () => {
        // At first, removing all error messages
        invalidEmailErrorMessage.style.display = "none";
        emptyEmailErrorMessage.style.display = "none";
        // And also removing input field error state (if it has any).
        if (emailInputField.classList.contains("error")) {
          emailInputField.classList.remove("error");
        }
        // Then validating the submition
        if (emailInputField.value.length > 0) {
          // If the email input filed is not empty, then check its validation
          if (emailValidationRegex.test(emailInputField.value) == false) {
            // If the email is not valid then, add error state to email input field and show *invalid* error message ("Please provide a valid email address").
            emailInputField.classList.add("error");
            invalidEmailErrorMessage.style.display = "block";
          }
        } else {
          // If the email input field is empty, then error state to email input field and show *empty* error message ("Whoops! It looks like you forgot to add your email").
          emailInputField.classList.add("error");
          emptyEmailErrorMessage.style.display = "block";
        }
      });
    </script>
  </body>
</html>
